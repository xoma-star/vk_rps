{"version":3,"sources":["serviceWorker.js","firebase_config.js","components/panels/Stats.jsx","components/panels/Menu.jsx","components/emoji/IconRobot.jsx","functions/randInt.js","components/panels/WithBot.jsx","components/emoji/IconClown.jsx","components/emoji/IconSad.jsx","components/Modal.jsx","functions/rps.js","components/panels/withFriend.jsx","components/panels/Invites.jsx","index.js"],"names":["Boolean","window","location","hostname","match","fire","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Stats","e","left","onClick","menu","before","state","stats","wins","loses","Menu","expandable","panel","history","pushState","indicator","invites","length","mode","IconRobot","p","xmlns","aria-hidden","focusable","width","size","height","viewBox","d","fill","cx","cy","r","opacity","x","y","randInt","min","max","rand","Math","random","round","urls","WithBot","props","this","$","removeClass","setTimeout","addClass","return","userScore","botScore","activeModal","botChoice","userChoice","won","leftHand","rightHand","firestore","collection","doc","userId","toString","update","then","console","log","className","style","borderRadius","padding","paddingTop","marginTop","src","userAva","userName","alt","transition","transform","vertical","jopa","React","Component","IconClown","rx","ry","IconSad","Modal","onClose","setActiveModal","id","icon","header","caption","rps","WithFriend","room","empty","friendHand","userHand","roomqw","onSnapshot","snapshot","listener","bind","setState","user","friendDone","userDone","data","stateFriendHand","stateUserHand","friendScore","z","confirmed","friend","get","k","invs","splice","indexOf","q","frId","bridge","send","obj","users","set","exists","friend_invites","setSnackbar","friendAva","friendName","freindScore","invite","removeInvite","Tmp","map","photo_100","description","bottomContent","display","accept","remove","marginLeft","first_name","last_name","Invites","fetching","nniga","removeItem","a","b","i","s","join","access_token","v","response","minHeight","onRefresh","isFetching","accepted","Main","activePanel","friendMatch","snackbar","stateWithBot","setActivePanel","inviteAccepted","layout","photo_200","balance","userData","addEventListener","back","modal","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.c51c71a7.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD_Noe00-ju08frvAtBl9leupxLvifjqLc\",\r\n    authDomain: \"mini-games-5216f.firebaseapp.com\",\r\n    databaseURL: \"https://mini-games-5216f.firebaseio.com\",\r\n    projectId: \"mini-games-5216f\",\r\n    storageBucket: \"mini-games-5216f.appspot.com\",\r\n    messagingSenderId: \"935962519630\",\r\n    appId: \"1:935962519630:web:0d0eb0b8034cc99339fb1f\",\r\n    measurementId: \"G-8B7J71PH7X\"\r\n};\r\n\r\nconst fire = firebase.initializeApp(firebaseConfig);\r\nexport default fire;","import {Cell, Group, Panel, PanelHeader, PanelHeaderBack} from \"@vkontakte/vkui\";\r\nimport Icon24ThumbUp from '@vkontakte/icons/dist/24/thumb_up';\r\nimport Icon24ThumbDown from '@vkontakte/icons/dist/24/thumb_down';\r\nimport React from \"react\";\r\n\r\nconst Stats = (e) => {\r\n    return (\r\n        <div>\r\n            <PanelHeader left={<PanelHeaderBack onClick={() => e.menu()}/>}>Статистика</PanelHeader>\r\n            <Group>\r\n                <Cell before={<Icon24ThumbUp/>}>Побед: {e.state.stats.wins}</Cell>\r\n                <Cell before={<Icon24ThumbDown/>}>Поражений: {e.state.stats.loses}</Cell>\r\n            </Group>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Stats;","import {Cell, Group, Panel, PanelHeader, Counter} from \"@vkontakte/vkui\";\r\nimport React from \"react\";\r\nimport Icon28BrainOutline from '@vkontakte/icons/dist/28/brain_outline';\r\nimport Icon28StatisticsOutline from '@vkontakte/icons/dist/28/statistics_outline';\r\nimport Icon28UsersOutline from '@vkontakte/icons/dist/28/users_outline';\r\nimport Icon24AddOutline from '@vkontakte/icons/dist/24/add_outline';\r\n\r\nconst Menu = (e) => {\r\n    return (\r\n        <div>\r\n            <PanelHeader>Камень, ножницы, бумага</PanelHeader>\r\n            <Group>\r\n                <Cell expandable before={<Icon28BrainOutline />} onClick={() => {\r\n                    e.panel('with_bot');\r\n                    window.history.pushState(null, null, null);\r\n                }}>Против бота</Cell>\r\n                <Cell expandable before={<Icon28StatisticsOutline/>} onClick={() => {\r\n                    e.panel('stats');\r\n                    window.history.pushState(null, null, null);\r\n                }}>Статистика</Cell>\r\n                <Cell expandable before={<Icon28UsersOutline/>} onClick={() => {\r\n                    e.panel('with_friend');\r\n                    window.history.pushState(null, null, null);\r\n                }}>Против друга</Cell>\r\n                <Cell indicator={e.state.invites.length ? (<Counter mode=\"prominent\">{e.state.invites.length}</Counter>) : ''} expandable before={<Icon24AddOutline/>} onClick={() => {\r\n                    e.panel('invites');\r\n                    window.history.pushState(null, null, null);\r\n                }}>Приглашения</Cell>\r\n            </Group>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Menu;","import React from \"react\";\r\n\r\nconst IconRobot = (p) => {\r\n    return (<svg xmlns=\"http://www.w3.org/2000/svg\"  aria-hidden=\"true\" focusable=\"false\" width={p.size} height={p.size} viewBox=\"0 0 64 64\">\r\n        <path d=\"M57.6 13.7c-.7-1-1.6-1.7-2.7-2.2c-3.4-1.7-11.6-1.3-12.3-5.7c-.9-5.7-5.9.1-6.8.1c-1.1 0-1.6-3.9-3.7-3.9c-2.2 0-2.7 3.9-3.7 3.9c-.9 0-5.9-5.8-6.8-.1c-.7 4.3-9 4-12.3 5.7c-1 .5-2 1.2-2.7 2.2c-.5.8.6 1.6 1.2.9c1.6-2 4.8-2.4 7.1-2.8c1.9-.4 4-.6 5.9-1.4c2.6-1 2.5-4.9 3.3-4.9c.6 0 2.7 3 4.5 3c1.6 0 2.6-3.7 3.5-3.7c.9 0 1.9 3.7 3.5 3.7c1.9 0 4-3 4.6-3c.8 0 .7 3.9 3.3 4.9c1.8.8 3.9 1 5.9 1.4c2.3.5 5.6.8 7.1 2.8c.5.7 1.6-.2 1.1-.9\" fill=\"#00b9f1\"/>\r\n        <path d=\"M53 57c0 2.8-2.2 5-5 5H16c-2.8 0-5-2.2-5-5V36h42v21z\" fill=\"#89967a\"/>\r\n        <path d=\"M32 12c-15.5 0-21 8.5-21 24v21h42V36c0-15.5-5.5-24-21-24\" fill=\"#b6c4a7\"/>\r\n        <g fill=\"#89967a\">\r\n            <path d=\"M11 55c-1.1 0-2-1.2-2-2.6v-6.8c0-1.4.9-2.6 2-2.6v12\"/>\r\n            <path d=\"M53 43c1.1 0 2 1.2 2 2.6v6.8c0 1.4-.9 2.6-2 2.6V43\"/>\r\n        </g>\r\n        <g fill=\"#3e4347\">\r\n            <path d=\"M7 20H5v30h4v-2H7z\"/>\r\n            <path d=\"M57 20v28h-2v2h4V20z\"/>\r\n        </g><circle cx=\"58\" cy=\"20\" r=\"4\" fill=\"#00b9f1\"/>\r\n        <circle cx=\"6\" cy=\"20\" r=\"4\" fill=\"#ff5263\"/>\r\n        <path d=\"M21.5 39.5c-4.4 0-8-3.6-8-8s3.6-8 8-8s8 3.6 8 8s-3.6 8-8 8\" fill=\"#efffd9\"/>\r\n        <circle cx=\"21.5\" cy=\"31.5\" r=\"6\" fill=\"#545b61\"/>\r\n        <circle cx=\"21.5\" cy=\"31.5\" r=\"2.3\" fill=\"#ff5263\"/>\r\n        <path d=\"M42.5 39.5c-4.4 0-8-3.6-8-8s3.6-8 8-8s8 3.6 8 8s-3.6 8-8 8\" fill=\"#efffd9\"/>\r\n        <path d=\"M42.5 37.5c-3.3 0-6-2.7-6-6s2.7-6 6-6s6 2.7 6 6s-2.7 6-6 6\" fill=\"#545b61\"/>\r\n        <circle cx=\"42.5\" cy=\"31.5\" r=\"2.3\" fill=\"#ff5263\"/>\r\n        <path d=\"M19.8 54.1c-7.4 0-7.4-13 0-13h24.5c7.4 0 7.4 13 0 13H19.8\" fill=\"#efffd9\"/>\r\n        <path d=\"M20.5 52.6c-6 0-6-10 0-10h23c6 0 6 10 0 10h-23\" fill=\"#89967a\"/>\r\n        <g opacity=\".7\" fill=\"#3e4347\">\r\n            <path d=\"M21.2 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1\"/>\r\n            <path d=\"M25.9 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1\"/>\r\n            <path d=\"M30.6 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1\"/>\r\n            <path d=\"M35.4 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1\"/>\r\n            <path d=\"M40.1 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1\"/>\r\n            <path d=\"M44.8 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1\"/>\r\n        </g><circle cx=\"32\" cy=\"37\" r=\"2\" fill=\"#f5f5f5\"/>\r\n        <path fill=\"#545b61\" d=\"M30.316 35.862l.566-.565l2.828 2.828l-.565.566z\"/>\r\n        <rect x=\"0\" y=\"0\" width=\"64\" height=\"64\" fill=\"rgba(0, 0, 0, 0)\" />\r\n    </svg>)\r\n}\r\n\r\nexport default IconRobot;","function randInt(min, max) {\r\n    // получить случайное число от (min-0.5) до (max+0.5)\r\n    let rand = min - 0.5 + Math.random() * (max - min + 1);\r\n    return Math.round(rand);\r\n}\r\n\r\nexport default randInt;","import {\r\n    Avatar,\r\n    Card,\r\n    CardGrid,\r\n    FixedLayout,\r\n    Group,\r\n    Header,\r\n    PanelHeader,\r\n    PanelHeaderBack\r\n} from \"@vkontakte/vkui\";\r\nimport IconRobot from \"../emoji/IconRobot\";\r\nimport React from \"react\";\r\nimport $ from \"jquery\";\r\nimport randInt from \"../../functions/randInt\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport fire from \"../../firebase_config\";\r\n\r\nconst urls = [\r\n    'https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/raised-fist_270a.png',\r\n    'https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/victory-hand_270c.png',\r\n    'https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/raised-hand_270b.png'\r\n];\r\n\r\nclass WithBot extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    jopa(e){\r\n        if (this.props.state.round){\r\n            return;\r\n        }\r\n        $('.left_hand,.right_hand').removeClass('animated');\r\n        setTimeout(() => {\r\n            $('.left_hand,.right_hand').addClass('animated');\r\n        }, 5);\r\n        this.props.return([0,0,this.props.state.userScore,this.props.state.botScore,true,this.props.state.activeModal,this.props.state.stats]);\r\n        setTimeout(() => {\r\n            let botScore = this.props.state.botScore;\r\n            let userScore = this.props.state.userScore;\r\n            let botChoice = randInt(0,2);\r\n            let userChoice = e;\r\n\r\n            switch (userChoice) {\r\n                case 0:\r\n                    switch (botChoice) {\r\n                        case 1:\r\n                            userScore++;\r\n                            break;\r\n                        case 2:\r\n                            botScore++;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    switch (botChoice) {\r\n                        case 2:\r\n                            userScore++;\r\n                            break;\r\n                        case 0:\r\n                            botScore++;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    switch (botChoice) {\r\n                        case 0:\r\n                            userScore++;\r\n                            break;\r\n                        case 1:\r\n                            botScore++;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    break;\r\n            }\r\n            let round;\r\n            if (userScore >= 2 || botScore >= 2){\r\n                round = true;\r\n            }\r\n            else{\r\n                round = false;\r\n            }\r\n            this.props.return([botChoice,userChoice,userScore,botScore,round,this.props.state.activeModal,this.props.state.stats]);\r\n            $('.test').addClass('hidden');\r\n            setTimeout(() => {\r\n                $('.test2').removeClass('hidden');\r\n            }, 200);\r\n            setTimeout(() => {\r\n                $('.test2').addClass('hidden');\r\n                $('.test').removeClass('hidden');\r\n                if (this.props.state.userScore >= 2 || this.props.state.botScore >= 2){\r\n                    let won;\r\n                    let wins = this.props.state.stats.wins;\r\n                    let loses = this.props.state.stats.loses;\r\n                    if (this.props.state.userScore >= 2){\r\n                        won = 'userWon';\r\n                        //bridge.send(\"VKWebAppStorageSet\", {\"key\": \"wins\", \"value\": (parseInt(wins)+1).toString()});\r\n                        wins++;\r\n                    }\r\n                    else{\r\n                        won = 'botWon';\r\n                        //bridge.send(\"VKWebAppStorageSet\", {\"key\": \"loses\", \"value\": (parseInt(loses)+1).toString()});\r\n                        loses++;\r\n                    }\r\n                    this.props.return([this.props.state.leftHand,this.props.state.rightHand,0,0,this.props.state.round,won,{wins:wins,loses:loses}]);\r\n                    fire.firestore().collection('users').doc(this.props.state.userId.toString()).update({\r\n                        wins: wins,\r\n                        loses: loses\r\n                    }).then(r => console.log('done'));\r\n                }\r\n                this.props.return([0,0,this.props.state.userScore,this.props.state.botScore,this.props.state.round,this.props.state.activeModal,this.props.state.stats]);\r\n            }, 2000);\r\n        }, 0.6*2.85*1000)\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n            <PanelHeader left={<PanelHeaderBack onClick={() => this.props.menu()}/>}>Против бота</PanelHeader>\r\n            <Group>\r\n                <CardGrid className=\"battle_avas\" style={{borderRadius: 5, padding: 10}}>\r\n                    <Card size=\"l\">\r\n                        <Card style={{paddingTop: 15}} className=\"text-middle\" size=\"s\">\r\n                            <div className=\"test\">\r\n                                <IconRobot size={48}/>\r\n                                <Header className=\"no-flex\" mode=\"secondary\">полный лох</Header>\r\n                            </div>\r\n                            <div className=\"test2 hidden\">{this.props.state.botScore}</div>\r\n                        </Card>\r\n                        <Card style={{marginTop: 42}} className=\"text-middle\" size=\"s\">\r\n                            <Header className=\"no-flex\" mode=\"secondary\">против</Header>\r\n                        </Card>\r\n                        <Card style={{paddingTop: 15}} className=\"text-middle\" size=\"s\">\r\n                            <div className=\"test\">\r\n                                <Avatar src={this.props.state.userAva ? this.props.state.userAva : 'https://vk.com/images/camera_200.png'}/>\r\n                                <Header className=\"no-flex\" mode=\"secondary\">{this.props.state.userName ? this.props.state.userName : 'тоже лох'}</Header>\r\n                            </div>\r\n                            <div className=\"test2 hidden\">{this.props.state.userScore}</div>\r\n                        </Card>\r\n                    </Card>\r\n                    <div className=\"clear-fix\"/>\r\n                </CardGrid>\r\n            </Group>\r\n            <Group style={{padding: 30}}>\r\n                <img className=\"left left_hand\" alt=\"hui jopa pidaraz\" src={urls[this.props.state.leftHand]}/>\r\n                <img className=\"right right_hand\" alt=\"hui jopa pidaraz\" src={urls[this.props.state.rightHand]}/>\r\n                <div className=\"clear-fix\"/>\r\n            </Group>\r\n            <FixedLayout style={\r\n                this.props.state.round ? {\r\n                    transition: '.2s',\r\n                    transform: 'translateY(100%)'\r\n                } : {\r\n                    transition: '.2s'\r\n                }\r\n            } vertical=\"bottom\">\r\n                <CardGrid className=\"battle_avas\" style={{borderRadius: 5, padding: 10}}>\r\n                    <Card size=\"l\">\r\n                        <Card className=\"text-middle\" size=\"s\">\r\n                            <img onClick={() => {this.jopa(0)}} className=\"selectHand\" alt=\"jopa\" src={urls[0]}/>\r\n                        </Card>\r\n                        <Card className=\"text-middle\" size=\"s\">\r\n                            <img onClick={() => {this.jopa(1)}} className=\"selectHand\" alt=\"jopa\" src={urls[1]}/>\r\n                        </Card>\r\n                        <Card className=\"text-middle\" size=\"s\">\r\n                            <img onClick={() => {this.jopa(2)}} className=\"selectHand\" alt=\"jopa\" src={urls[2]}/>\r\n                        </Card>\r\n                    </Card>\r\n                    <div className=\"clear-fix\"/>\r\n                </CardGrid>\r\n            </FixedLayout>\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default WithBot;","import React from \"react\";\r\n\r\nconst IconClown = (p) => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\" width={p.size} height={p.size} viewBox=\"0 0 64 64\">\r\n            <path d=\"M62 27.2c0-3-1.5-5.6-3.9-7.1c.3-.9.5-1.9.5-2.9c0-4.7-3.7-8.6-8.3-8.7C49 6 46.4 4.2 43.4 4.2c-1.5 0-2.9.4-4.1 1.2C37.8 3.4 35.1 2 32 2c-3.1 0-5.8 1.4-7.4 3.4c-1.2-.8-2.6-1.2-4.1-1.2c-3 0-5.6 1.7-6.9 4.3c-4.6.1-8.3 3.9-8.3 8.7c0 1 .2 2 .5 2.9C3.5 21.6 2 24.2 2 27.2c0 2 .7 3.9 1.9 5.4c-.5 1-.8 2.1-.8 3.3c0 2.7 1.5 5.1 3.7 6.3c0 .3-.1.5-.1.8c0 3.9 3.1 7.1 6.9 7.1h36.7c3.8 0 6.9-3.2 6.9-7.1v-.8c2.2-1.2 3.7-3.6 3.7-6.3c0-1.2-.3-2.3-.8-3.3c1.2-1.5 1.9-3.3 1.9-5.4\" fill=\"#42ade2\"/>\r\n            <path d=\"M51.8 35c-.1.9-.3 1.8-.6 2.3c-.5.9-1.4 1.4-1.4 1.4s.3-.9.2-3.4c-1.3-19.9-3.7-11-17.9-11s-16.6-8.9-17.9 11c-.1 2.5.2 3.4.2 3.4s-.9-.5-1.4-1.4c-.3-.5-.4-1.3-.6-2.3c-1.5-.4-3.5-.1-3.5 4.3c0 2.7 1 5 4.4 5.2c1.4 11 5.7 12.8 14.3 16.7c2.3 1 6.9 1 9.1 0c8.6-3.9 12.9-5.7 14.3-16.7c3.4-.2 4.4-2.5 4.4-5.2c-.2-4.4-2.1-4.7-3.6-4.3\" fill=\"#fed0ac\"/>\r\n            <path d=\"M49.1 35.5c-1.3-19.2-3.5-9.9-17.1-9.9s-15.8-9.3-17.1 9.9c-.1 2.4.4 6.7.7 8.9c.8 5.2 3.9 12.2 12 16c2.2 1 6.6 1 8.7 0c8.2-3.7 11.3-10.8 12-16c.4-2.3.9-6.6.8-8.9\" fill=\"#f5f5f5\"/>\r\n            <path d=\"M41.2 49.3c-3.8 3.9-3.3 8.8-9.2 8.8c-5.9 0-5.4-4.9-9.2-8.8c-3.7-3.9 5.1.5 9.2.5s12.9-4.4 9.2-.5\" fill=\"#574137\"/>\r\n            <path d=\"M38.9 48.2L32 49.8l-6.9-1.6s-.2 1.6.5 2.3c1 1 4.8 1.5 6.5 1.5c1.7 0 5.4-.5 6.5-1.5c.5-.6.3-2.3.3-2.3\" fill=\"#fff\"/>\r\n            <path d=\"M32 55.1c-2.8 0-3.7 2-3.7 2l3.7.6l3.7-.6s-.9-2-3.7-2\" fill=\"#ff717f\"/>\r\n            <path d=\"M32 49c-2.3 0-15.8-5-9.9.6c3.2 3 3.2 10 9.9 10s6.7-6.9 9.9-10c5.9-5.6-7.6-.6-9.9-.6m7.9 1.1c-3.3 3.3-2.8 7.3-7.9 7.4c-5.1 0-4.6-4.1-7.9-7.4c-3.2-3.2 4.4.4 7.9.4s11.1-3.7 7.9-.4\" fill=\"#cf4350\"/>\r\n            <circle cx=\"32\" cy=\"43.4\" r=\"6.6\" fill=\"#ff5263\"/>\r\n            <path d=\"M27 35.8c0 2.9-8 2.9-8 0c0-9.9 8-9.9 8 0\" fill=\"#f5f5f5\"/>\r\n            <path d=\"M27.7 36.2c0 3.7-10 3.7-10 0c0-12.3 10-12.3 10 0\" fill=\"#3e4347\"/>\r\n            <path d=\"M27.4 36.3c0 2.9-8 2.9-8 0c0-9.9 8-9.9 8 0\" fill=\"#f5f5f5\"/>\r\n            <ellipse cx=\"23.7\" cy=\"34.5\" rx=\"2.5\" ry=\"3.5\" fill=\"#0a84a5\"/>\r\n            <circle cx=\"23.7\" cy=\"34.5\" r=\".8\" fill=\"#231f20\"/>\r\n            <path d=\"M36.3 36.2c0 3.7 10 3.7 10 0c0-12.3-10-12.3-10 0\" fill=\"#3e4347\"/>\r\n            <path d=\"M36.6 36.3c0 2.9 8 2.9 8 0c0-9.9-8-9.9-8 0\" fill=\"#f5f5f5\"/>\r\n            <ellipse cx=\"40.3\" cy=\"34.5\" rx=\"2.5\" ry=\"3.5\" fill=\"#0a84a5\"/>\r\n            <circle cx=\"40.3\" cy=\"34.5\" r=\".8\" fill=\"#231f20\"/>\r\n            <rect x=\"0\" y=\"0\" width=\"64\" height=\"64\" fill=\"rgba(0, 0, 0, 0)\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default IconClown;","import React from \"react\";\r\n\r\nconst IconSad = (p) => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" focusable=\"false\" width={p.size} height={p.size} viewBox=\"0 0 64 64\">\r\n            <path d=\"M2.5 37.2c2.9 16.3 18.4 27.2 34.8 24.3c16.3-2.9 27.2-18.4 24.3-34.8C58.7 10.5 43.1-.4 26.8 2.5C10.5 5.3-.4 20.9 2.5 37.2\" fill=\"#ffdd67\"/>\r\n            <g fill=\"#664e27\">\r\n                <circle cx=\"42.4\" cy=\"24.7\" r=\"5\"/>\r\n                <circle cx=\"19.7\" cy=\"28.7\" r=\"5\"/>\r\n                <path d=\"M43.3 41.8c-5.8-1.5-12-.4-16.9 3c-1.2.9 1.1 4 2.3 3.2c3.2-2.3 8.4-3.8 13.7-2.4c1.3.3 2.4-3.3.9-3.8\"/>\r\n            </g>\r\n            <rect x=\"0\" y=\"0\" width=\"64\" height=\"64\" fill=\"rgba(0, 0, 0, 0)\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default IconSad;","import {ModalCard, ModalRoot} from \"@vkontakte/vkui\";\r\nimport IconClown from \"./emoji/IconClown\";\r\nimport IconSad from \"./emoji/IconSad\";\r\nimport React from \"react\";\r\n\r\nconst Modal = (e) => {\r\n    return (<ModalRoot activeModal={e.state.activeModal}\r\n                       onClose={() => e.setActiveModal(null)}>\r\n        <ModalCard\r\n            id=\"userWon\"\r\n            onClose={() => e.setActiveModal(null)}\r\n            icon={<IconClown size={128}/>}\r\n            header=\"Победа\"\r\n            caption=\"Можем повторить\"\r\n            // actions={[{\r\n            //     title: 'Попробовать',\r\n            //     mode: 'primary',\r\n            //     action: () => {\r\n            //         this.setActiveModal(null);\r\n            //     }\r\n            // }]}\r\n        >\r\n        </ModalCard>\r\n        <ModalCard\r\n            id=\"botWon\"\r\n            onClose={() => e.setActiveModal(null)}\r\n            icon={(\r\n                <IconSad size={128}/>\r\n            )}\r\n            header=\"Проиграл\"\r\n            caption=\"лох\"\r\n            // actions={[{\r\n            //     title: 'Попробовать',\r\n            //     mode: 'primary',\r\n            //     action: () => {\r\n            //         this.setActiveModal(null);\r\n            //     }\r\n            // }]}\r\n        >\r\n        </ModalCard>\r\n    </ModalRoot>)\r\n}\r\n\r\nexport default Modal;","const rps = (botChoice, userChoice) => {\r\n    let botScore = 0;\r\n    let userScore = 0;\r\n    switch (userChoice) {\r\n        case 0:\r\n            switch (botChoice) {\r\n                case 1:\r\n                    userScore++;\r\n                    break;\r\n                case 2:\r\n                    botScore++;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            break;\r\n        case 1:\r\n            switch (botChoice) {\r\n                case 2:\r\n                    userScore++;\r\n                    break;\r\n                case 0:\r\n                    botScore++;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            break;\r\n        case 2:\r\n            switch (botChoice) {\r\n                case 0:\r\n                    userScore++;\r\n                    break;\r\n                case 1:\r\n                    botScore++;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            break;\r\n    }\r\n    if (userScore){\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nexport default rps;","import {\r\n    Avatar, Button,\r\n    Card,\r\n    CardGrid,\r\n    FixedLayout,\r\n    Group,\r\n    Header,\r\n    PanelHeader,\r\n    PanelHeaderBack,\r\n    Spinner\r\n} from \"@vkontakte/vkui\";\r\nimport React from \"react\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport fire from \"../../firebase_config\";\r\nimport Icon24Report from '@vkontakte/icons/dist/24/report';\r\nimport IconRobot from \"../emoji/IconRobot\";\r\nimport $ from \"jquery\";\r\nimport randInt from \"../../functions/randInt\";\r\nimport rps from \"../../functions/rps\";\r\n\r\nconst urls = [\r\n    'https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/raised-fist_270a.png',\r\n    'https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/victory-hand_270c.png',\r\n    'https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/raised-hand_270b.png'\r\n];\r\n\r\nclass WithFriend extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            room: {\r\n                empty: true\r\n            },\r\n            friendHand: 0,\r\n            userHand: 0\r\n        };\r\n        if(this.props.state.roomqw){\r\n            fire.firestore().collection('rooms').doc(this.props.state.roomqw.toString()).onSnapshot((snapshot => {\r\n                this.listener(snapshot);\r\n            }));\r\n        }\r\n        this.listener = this.listener.bind(this);\r\n    }\r\n\r\n    jopa(e){\r\n        if (this.state.round){\r\n            return;\r\n        }\r\n        this.setState({round: 1});\r\n        if(this.props.state.roomqw){\r\n            fire.firestore().collection('rooms').doc(this.state.room.user.toString()).update({\r\n                friendDone: 1,\r\n                friendHand: e\r\n            });\r\n        }\r\n        else{\r\n            fire.firestore().collection('rooms').doc(this.state.room.user.toString()).update({\r\n                userDone: 1,\r\n                userHand: e\r\n            });\r\n        }\r\n    }\r\n\r\n    listener(snapshot){\r\n        let data = snapshot.data();\r\n        let round = this.state.round;\r\n        let userDone = data.userDone;\r\n        let friendDone = data.friendDone;\r\n        let stateFriendHand = 0;\r\n        let stateUserHand = 0;\r\n        let userScore = data.userScore;\r\n        let friendScore = data.friendScore;\r\n        if (userDone && friendDone){\r\n            round = userDone = friendDone = 0;\r\n            stateFriendHand = data.friendHand;\r\n            stateUserHand = data.userHand;\r\n            setTimeout(() => {\r\n                if (rps(stateFriendHand, stateUserHand)){\r\n                    userScore++;\r\n                }\r\n                else{\r\n                    friendScore++;\r\n                }\r\n                this.setState({\r\n                    userHand: stateUserHand,\r\n                    friendHand: stateFriendHand,\r\n                    userScore: userScore,\r\n                    friendScore: friendScore\r\n                });\r\n                $('.test').addClass('hidden');\r\n                setTimeout(() => {\r\n                    $('.test2').removeClass('hidden');\r\n                }, 200);\r\n                setTimeout(() => {\r\n                    $('.test2').addClass('hidden');\r\n                    $('.test').removeClass('hidden');\r\n                    fire.firestore().collection('rooms').doc(data.user.toString()).update({\r\n                        userDone: 0,\r\n                        friendDone: 0,\r\n                        friendHand: 0,\r\n                        userHand: 0,\r\n                        userScore: userScore,\r\n                        friendScore: friendScore\r\n                    }).then(z => {\r\n                        this.setState({\r\n                            userHand: 0,\r\n                            friendHand: 0,\r\n                            userDone: 0,\r\n                            friendDone: 0\r\n                        });\r\n                        setTimeout(() => {\r\n                            this.setState({\r\n                                round: 0\r\n                            })\r\n                        }, 500);\r\n                    });\r\n                }, 1500);\r\n            }, 0.6*2.75*1000);\r\n        }\r\n        this.setState({\r\n            room: data,\r\n            //round: round,\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if(this.state.room.user){\r\n            fire.firestore().collection('rooms').doc(this.state.room.user.toString()).update({\r\n                confirmed: 0,\r\n                empty: true\r\n            }).then(x => {\r\n                fire.firestore().collection('users').doc(this.state.room.friend.toString()).get().then(\r\n                    k => {\r\n                        let invs = k.data().invites;\r\n                        invs.splice(invs.indexOf(this.state.room.friend), 1);\r\n                        fire.firestore().collection('users').doc(this.state.room.friend.toString()).update({\r\n                            invites: invs\r\n                        });\r\n                    }\r\n                );\r\n            });\r\n        }\r\n    }\r\n\r\n    removeInvite(q){\r\n        let frId = q.room.friend;\r\n        fire.firestore().collection('users').doc(frId.toString()).get().then(\r\n            k => {\r\n                let invs = k.data().invites;\r\n                invs.splice(invs.indexOf(frId), 1);\r\n                fire.firestore().collection('users').doc(frId.toString()).update({\r\n                    invites: invs\r\n                }).then(r => {\r\n                    this.setState({\r\n                        room: {\r\n                            empty: true\r\n                        }\r\n                    })\r\n                });\r\n            }\r\n        );\r\n    }\r\n\r\n    invite(q){\r\n        bridge.send(\"VKWebAppGetFriends\", {}).then(\r\n            r => {\r\n                let obj = {\r\n                    confirmed: 0,\r\n                    friend: r.users[0].id,\r\n                    user: q.userId,\r\n                    userHand: 0,\r\n                    friendHand: 0,\r\n                    userScore: 0,\r\n                    friendScore: 0,\r\n                    userDone: 0,\r\n                    friendDone: 0,\r\n                    empty: false,\r\n                    userAva: this.props.state.userAva,\r\n                    userName: this.props.state.userName\r\n                };\r\n                fire.firestore().collection('rooms').doc(q.userId.toString()).set(obj).then(e => {\r\n                    fire.firestore().collection('users').doc(r.users[0].id.toString()).get().then(\r\n                        k => {\r\n                            if (k.exists) {\r\n                                let friend_invites = k.data().invites;\r\n                                if(friend_invites.indexOf(q.userId) === -1){\r\n                                    friend_invites[friend_invites.length] = q.userId;\r\n                                    fire.firestore().collection('users').doc(r.users[0].id.toString()).update({\r\n                                        invites: friend_invites\r\n                                    }).then(r => {\r\n                                        fire.firestore().collection('rooms').doc(q.userId.toString()).onSnapshot((snapshot => {\r\n                                            this.listener(snapshot);\r\n                                        }));\r\n                                    });\r\n                                }\r\n                                else{\r\n                                    this.props.setSnackbar(['Приглашение уже отправлено', <Icon24Report fill=\"var(--destructive)\"/>]);\r\n                                }\r\n                                this.setState({room: obj});\r\n                            }\r\n                            else{\r\n                                this.props.setSnackbar(['Пользователь не зарегистрирован', <Icon24Report fill=\"var(--destructive)\"/>]);\r\n                            }\r\n                        }\r\n                    );\r\n                });\r\n            }\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n            <PanelHeader left={<PanelHeaderBack onClick={() => this.props.menu()}/>}>Против друга</PanelHeader>\r\n            <Group>\r\n                {this.state.room.confirmed ? (\r\n                    <CardGrid className=\"battle_avas\" style={{borderRadius: 5, padding: 10}}>\r\n                        <Card size=\"l\">\r\n                            <Card style={{paddingTop: 15}} className=\"text-middle\" size=\"s\">\r\n                                <div className=\"test\">\r\n                                    <Avatar src={this.state.room.friendAva ? this.state.room.friendAva : 'https://vk.com/images/camera_200.png'}/>\r\n                                    <Header className=\"no-flex\" mode=\"secondary\">{this.state.room.friendName ? this.state.room.friendName : 'лох'}</Header>\r\n                                </div>\r\n                                <div className=\"test2 hidden\">{this.state.freindScore}</div>\r\n                            </Card>\r\n                            <Card style={{marginTop: 42}} className=\"text-middle\" size=\"s\">\r\n                                <Header className=\"no-flex\" mode=\"secondary\">против</Header>\r\n                            </Card>\r\n                            <Card style={{paddingTop: 15}} className=\"text-middle\" size=\"s\">\r\n                                <div className=\"test\">\r\n                                    <Avatar src={this.state.room.userAva ? this.state.room.userAva : 'https://vk.com/images/camera_200.png'}/>\r\n                                    <Header className=\"no-flex\" mode=\"secondary\">{this.state.room.userName ? this.state.room.userName : 'тоже лох'}</Header>\r\n                                </div>\r\n                                <div className=\"test2 hidden\">{this.state.userScore}</div>\r\n                            </Card>\r\n                        </Card>\r\n                        <div className=\"clear-fix\"/>\r\n                    </CardGrid>\r\n                ) : (\r\n                    <CardGrid>\r\n                        <Card size=\"l\">\r\n                            {this.state.room.empty ?\r\n                                (<Button size=\"xl\" onClick={() => {this.invite(this.props.state)}}>Пригласить друга</Button>)\r\n                                :\r\n                                (<Button className=\"removeReq\" before={<Spinner size=\"small\" />} onClick={() => {this.removeInvite(this.state)}} mode=\"secondary\" size=\"xl\">Ожидаем ответа</Button>)}\r\n                        </Card>\r\n                    </CardGrid>\r\n                )\r\n                }\r\n            </Group>\r\n            <Group style={{padding: 30}}>\r\n                <img\r\n                    className={(this.state.room.userDone && this.state.room.friendDone) ? \"left left_hand animated\" : \"left left_hand\"}\r\n                    alt=\"hui\"\r\n                    src={urls[this.state.friendHand]}/>\r\n                <img\r\n                    className={(this.state.room.userDone && this.state.room.friendDone) ? \"right right_hand animated\" : \"right right_hand\"}\r\n                    alt=\"jopa\"\r\n                    src={urls[this.state.userHand]}/>\r\n                <div className=\"clear-fix\"/>\r\n            </Group>\r\n            <FixedLayout style={\r\n                this.state.round ? {\r\n                    transition: '.2s',\r\n                    transform: 'translateY(100%)'\r\n                } : {\r\n                    transition: '.2s'\r\n                }\r\n            } vertical=\"bottom\">\r\n                <CardGrid className=\"battle_avas\" style={{borderRadius: 5, padding: 10}}>\r\n                    <Card style={this.props.state.roomqw ? {transform: \"scaleX(-1)\"} : {}} size=\"l\">\r\n                        <Card className=\"text-middle\" size=\"s\">\r\n                            <img onClick={() => {this.jopa(0)}} className=\"selectHand\" alt=\"jopa\" src={urls[0]}/>\r\n                        </Card>\r\n                        <Card className=\"text-middle\" size=\"s\">\r\n                            <img onClick={() => {this.jopa(1)}} className=\"selectHand\" alt=\"jopa\" src={urls[1]}/>\r\n                        </Card>\r\n                        <Card className=\"text-middle\" size=\"s\">\r\n                            <img onClick={() => {this.jopa(2)}} className=\"selectHand\" alt=\"jopa\" src={urls[2]}/>\r\n                        </Card>\r\n                    </Card>\r\n                    <div className=\"clear-fix\"/>\r\n                </CardGrid>\r\n            </FixedLayout>\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default WithFriend;","import {\r\n    Cell,\r\n    Group,\r\n    PanelHeader,\r\n    List,\r\n    Avatar,\r\n    Button,\r\n    Placeholder,\r\n    PanelHeaderBack,\r\n    PullToRefresh\r\n} from \"@vkontakte/vkui\";\r\nimport React from \"react\";\r\nimport Icon24MoreHorizontal from '@vkontakte/icons/dist/24/more_horizontal';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport Icon56ErrorOutline from '@vkontakte/icons/dist/56/error_outline';\r\nimport fire from \"../../firebase_config\";\r\n\r\n\r\nconst Tmp = (e) =>{\r\n    if (e.p.length){\r\n        return e.p.map(p =>\r\n            <Cell\r\n                before={<Avatar src={p.photo_100} size={72} />}\r\n                size=\"l\"\r\n                description=\"камень, ножницы, бумага\"\r\n                //asideContent={<Icon24MoreHorizontal />}\r\n                bottomContent={\r\n                    <div style={{ display: 'flex' }}>\r\n                        <Button onClick={() => {e.accept(p.id)}} size=\"m\">Принять</Button>\r\n                        <Button onClick={() => {e.remove(p)}} size=\"m\" mode=\"secondary\" style={{ marginLeft: 8 }}>Скрыть</Button>\r\n                    </div>\r\n                }\r\n            >{p.first_name+' '+p.last_name}</Cell>\r\n        );\r\n    }\r\n    else{\r\n        return (<Placeholder\r\n            icon={<Icon56ErrorOutline width={128} height={128}/>}\r\n            header=\"Новых приглашений нет\"\r\n            //action={<Button size=\"l\">Подключить сообщества</Button>}\r\n        >\r\n            Попросите друга отправить вам приглашение, <br/>и оно появится здесь\r\n        </Placeholder>);\r\n    }\r\n};\r\n\r\n\r\nclass Invites extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            invites: [],\r\n            fetching: false\r\n        };\r\n        this.nniga = this.nniga.bind(this);\r\n        this.removeItem = this.removeItem.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.nniga();\r\n    }\r\n\r\n    removeItem(id){\r\n        let a = this.state.invites.splice(this.state.invites.indexOf(id), 1);\r\n        let b = [];\r\n        for (let i = 0; i < a.length; i++){\r\n            b[i] = a[i].id;\r\n        }\r\n        b.splice(this.state.invites.indexOf(id), 1);\r\n        fire.firestore().collection('users').doc(this.props.state.userId.toString()).update({\r\n            invites: b\r\n        }).then(s => this.nniga())\r\n    }\r\n\r\n    nniga (){\r\n        this.setState({\r\n            fetching: true\r\n        })\r\n        if(this.props.state.invites.length){\r\n            bridge.send(\"VKWebAppGetAuthToken\", {\"app_id\": 7390057, \"scope\": \"friends\"}).then(q => {\r\n                bridge.send(\"VKWebAppCallAPIMethod\", {\"method\": \"users.get\", \"request_id\": \"32test\", \"params\": {\"user_ids\": this.props.state.invites.join(','), \"v\":\"5.103\", \"access_token\":q.access_token, \"fields\": \"photo_100\"}}).then(\r\n                    v => {\r\n                        this.setState({\r\n                            invites: v.response,\r\n                            fetching: false\r\n                        });\r\n                        console.log(this.state.invites);\r\n                    })\r\n            });\r\n        }\r\n        else{\r\n            setTimeout(this.nniga, 2500);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <PanelHeader left={<PanelHeaderBack onClick={() => this.props.menu()}/>}>Приглашения</PanelHeader>\r\n                <Group>\r\n                    <List>\r\n                        <PullToRefresh style={{minHeight: '90vh'}} onRefresh={this.nniga} isFetching={this.state.fetching}>\r\n                            <Tmp accept={this.props.accepted} remove={this.removeItem} p={this.state.invites}/>\r\n                        </PullToRefresh>\r\n                    </List>\r\n                </Group>\r\n            </div>)\r\n    }\r\n}\r\n\r\n\r\nexport default Invites;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport {\n    View,\n    Panel,\n    Avatar,\n    Snackbar\n} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport bridge from '@vkontakte/vk-bridge';\nimport fire from './firebase_config';\nimport Stats from \"./components/panels/Stats\";\nimport Menu from \"./components/panels/Menu\";\nimport WithBot from \"./components/panels/WithBot\";\nimport Modal from \"./components/Modal\";\nimport WithFriend from \"./components/panels/withFriend\";\nimport Invites from \"./components/panels/Invites\";\n\nclass Main extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            activePanel: 'menu',\n            leftHand: 0,\n            rightHand: 0,\n            userScore: 0,\n            botScore: 0,\n            activeModal: null,\n            round: false,\n            stats: {\n                wins: 0,\n                loses: 0\n            },\n            friendMatch: 0,\n            invites: [],\n            snackbar: null\n        };\n        this.stateWithBot = this.stateWithBot.bind(this);\n        this.menu = this.menu.bind(this);\n        this.setActivePanel = this.setActivePanel.bind(this);\n        this.setSnackbar = this.setSnackbar.bind(this);\n        this.inviteAccepted = this.inviteAccepted.bind(this);\n    }\n\n    menu(){\n        this.setState({\n            activePanel: 'menu',\n            roomqw: 0\n        })\n    }\n\n    setSnackbar(p){\n        this.setState({\n            snackbar: (\n                <Snackbar\n                    layout=\"vertical\"\n                    onClose={() => this.setState({ snackbar: null })}\n                    before={p[1]}\n                >\n                    {p[0]}\n                </Snackbar>\n            )\n        });\n        setTimeout(() => {\n            this.setState({snackbar: null})\n        }, 3000)\n    }\n\n    inviteAccepted(id){\n        console.log(id);\n        fire.firestore().collection('rooms').doc(id.toString()).update({\n            confirmed: 1,\n            friendAva: this.state.userAva,\n            friendName: this.state.userName,\n            accepted: 1\n        }).then(s => {\n            let a = this.state.invites.splice(this.state.invites.indexOf(id), 1);\n            let b = [];\n            for (let i = 0; i < a.length; i++){\n                b[i] = a[i].id;\n            }\n            b.splice(this.state.invites.indexOf(id), 1);\n            fire.firestore().collection('users').doc(this.state.userId.toString()).update({\n                invites: b\n            }).then(\n                z => this.setState({\n                        activePanel: 'with_friend',\n                        roomqw: id\n                    })\n            );\n        });\n    }\n\n    componentDidMount() {\n        bridge.send(\"VKWebAppInit\", {}).then(\n            r => {\n                bridge.send(\"VKWebAppGetUserInfo\", {}).then(\n                    r => {\n                        console.log(r);\n                        this.setState({\n                            userAva: r.photo_200,\n                            userName: r.first_name,\n                            userId: r.id\n                        });\n                        console.log(this.state);\n                        fire.firestore().collection('users').doc(r.id.toString()).onSnapshot((snapshot => {\n                            //console.log(snapshot);\n                            if(!snapshot.exists){\n                                fire.firestore().collection('users').doc(r.id.toString()).set({\n                                    balance: 0,\n                                    wins: 0,\n                                    loses: 0,\n                                    invites: []\n                                }).then(r => console.log('done'));\n                            }\n                            let userData = snapshot.data();\n                            this.setState({\n                                stats: {\n                                    wins: userData.wins,\n                                    loses: userData.loses\n                                },\n                                invites: userData.invites\n                            })\n                        }));\n                    }\n                );\n            }\n        );\n        window.addEventListener('popstate', () => {\n            if(this.state.activePanel !== 'menu'){\n                this.setState({\n                    activePanel: 'menu'\n                })\n            }\n            else{\n                window.history.back();\n            }\n        })\n    }\n\n    setActivePanel(p){\n        this.setState({\n            activePanel: p\n        })\n    }\n\n    stateWithBot(p){\n        //leftHand, rightHand, userScore, botScore, round, activeModal, stats\n        this.setState({\n            leftHand: p[0],\n            rightHand: p[1],\n            userScore: p[2],\n            botScore: p[3],\n            round: p[4],\n            activeModal: p[5],\n            stats: p[6]\n        });\n    }\n\n    setActiveModal = (e) => {\n        this.setState({\n            activeModal: e,\n            round: false\n        })\n    }\n\n    render() {\n        return (\n            <View activePanel={this.state.activePanel} id=\"menu\" modal={<Modal state={this.state} setActiveModal={this.setActiveModal}/>}>\n                <Panel id=\"menu\">\n                    <Menu state={this.state} panel={this.setActivePanel}/>\n                    {this.state.snackbar}\n                </Panel>\n                <Panel id=\"stats\">\n                    <Stats state={this.state} menu={this.menu}/>\n                    {this.state.snackbar}\n                </Panel>\n                <Panel id=\"with_bot\">\n                    <WithBot state={this.state} menu={this.menu} return={this.stateWithBot}/>\n                    {this.state.snackbar}\n                </Panel>\n                <Panel id=\"with_friend\">\n                    <WithFriend setSnackbar={this.setSnackbar} state={this.state} menu={this.menu} return={this.stateWithBot}/>\n                    {this.state.snackbar}\n                </Panel>\n                <Panel id=\"invites\">\n                    <Invites accepted={this.inviteAccepted} state={this.state} menu={this.menu}/>\n                    {this.state.snackbar}\n                </Panel>\n            </View>\n        )\n    }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n      <Main/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWAd\nserviceWorker.unregister();\n"],"sourceRoot":""}