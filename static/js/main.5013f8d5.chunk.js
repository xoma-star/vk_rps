(this.webpackJsonprock_paper_scissors=this.webpackJsonprock_paper_scissors||[]).push([[0],{109:function(e,t,a){e.exports=a(138)},114:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(22),s=a(23),c=a(21),l=a(24),i=a(25),r=a(0),o=a.n(r),m=a(28),d=a.n(m);a(114),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(4),p=(a(126),a(20)),h=a.n(p),f=a(52),v=a.n(f).a.initializeApp({apiKey:"AIzaSyD_Noe00-ju08frvAtBl9leupxLvifjqLc",authDomain:"mini-games-5216f.firebaseapp.com",databaseURL:"https://mini-games-5216f.firebaseio.com",projectId:"mini-games-5216f",storageBucket:"mini-games-5216f.appspot.com",messagingSenderId:"935962519630",appId:"1:935962519630:web:0d0eb0b8034cc99339fb1f",measurementId:"G-8B7J71PH7X"}),E=a(53),b=a.n(E),g=a(54),k=a.n(g),w=function(e){return o.a.createElement("div",null,o.a.createElement(u.n,{left:o.a.createElement(u.o,{onClick:function(){return e.menu()}})},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),o.a.createElement(u.h,null,o.a.createElement(u.e,{before:o.a.createElement(b.a,null)},"\u041f\u043e\u0431\u0435\u0434: ",e.state.stats.wins),o.a.createElement(u.e,{before:o.a.createElement(k.a,null)},"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0439: ",e.state.stats.loses)))},y=a(55),x=a.n(y),S=a(56),M=a.n(S),j=a(57),z=a.n(j),N=a(58),C=a.n(N),_=function(e){return o.a.createElement("div",null,o.a.createElement(u.n,null,"\u041a\u0430\u043c\u0435\u043d\u044c, \u043d\u043e\u0436\u043d\u0438\u0446\u044b, \u0431\u0443\u043c\u0430\u0433\u0430"),o.a.createElement(u.h,null,o.a.createElement(u.e,{expandable:!0,before:o.a.createElement(x.a,null),onClick:function(){e.panel("with_bot"),window.history.pushState(null,null,null)}},"\u041f\u0440\u043e\u0442\u0438\u0432 \u0431\u043e\u0442\u0430"),o.a.createElement(u.e,{expandable:!0,before:o.a.createElement(M.a,null),onClick:function(){e.panel("stats"),window.history.pushState(null,null,null)}},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),o.a.createElement(u.e,{expandable:!0,before:o.a.createElement(z.a,null),onClick:function(){e.panel("with_friend"),window.history.pushState(null,null,null)}},"\u041f\u0440\u043e\u0442\u0438\u0432 \u0434\u0440\u0443\u0433\u0430"),o.a.createElement(u.e,{indicator:e.state.invites.length?o.a.createElement(u.f,{mode:"prominent"},e.state.invites.length):"",expandable:!0,before:o.a.createElement(C.a,null),onClick:function(){e.panel("invites"),window.history.pushState(null,null,null)}},"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f")))},O=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",width:e.size,height:e.size,viewBox:"0 0 64 64"},o.a.createElement("path",{d:"M57.6 13.7c-.7-1-1.6-1.7-2.7-2.2c-3.4-1.7-11.6-1.3-12.3-5.7c-.9-5.7-5.9.1-6.8.1c-1.1 0-1.6-3.9-3.7-3.9c-2.2 0-2.7 3.9-3.7 3.9c-.9 0-5.9-5.8-6.8-.1c-.7 4.3-9 4-12.3 5.7c-1 .5-2 1.2-2.7 2.2c-.5.8.6 1.6 1.2.9c1.6-2 4.8-2.4 7.1-2.8c1.9-.4 4-.6 5.9-1.4c2.6-1 2.5-4.9 3.3-4.9c.6 0 2.7 3 4.5 3c1.6 0 2.6-3.7 3.5-3.7c.9 0 1.9 3.7 3.5 3.7c1.9 0 4-3 4.6-3c.8 0 .7 3.9 3.3 4.9c1.8.8 3.9 1 5.9 1.4c2.3.5 5.6.8 7.1 2.8c.5.7 1.6-.2 1.1-.9",fill:"#00b9f1"}),o.a.createElement("path",{d:"M53 57c0 2.8-2.2 5-5 5H16c-2.8 0-5-2.2-5-5V36h42v21z",fill:"#89967a"}),o.a.createElement("path",{d:"M32 12c-15.5 0-21 8.5-21 24v21h42V36c0-15.5-5.5-24-21-24",fill:"#b6c4a7"}),o.a.createElement("g",{fill:"#89967a"},o.a.createElement("path",{d:"M11 55c-1.1 0-2-1.2-2-2.6v-6.8c0-1.4.9-2.6 2-2.6v12"}),o.a.createElement("path",{d:"M53 43c1.1 0 2 1.2 2 2.6v6.8c0 1.4-.9 2.6-2 2.6V43"})),o.a.createElement("g",{fill:"#3e4347"},o.a.createElement("path",{d:"M7 20H5v30h4v-2H7z"}),o.a.createElement("path",{d:"M57 20v28h-2v2h4V20z"})),o.a.createElement("circle",{cx:"58",cy:"20",r:"4",fill:"#00b9f1"}),o.a.createElement("circle",{cx:"6",cy:"20",r:"4",fill:"#ff5263"}),o.a.createElement("path",{d:"M21.5 39.5c-4.4 0-8-3.6-8-8s3.6-8 8-8s8 3.6 8 8s-3.6 8-8 8",fill:"#efffd9"}),o.a.createElement("circle",{cx:"21.5",cy:"31.5",r:"6",fill:"#545b61"}),o.a.createElement("circle",{cx:"21.5",cy:"31.5",r:"2.3",fill:"#ff5263"}),o.a.createElement("path",{d:"M42.5 39.5c-4.4 0-8-3.6-8-8s3.6-8 8-8s8 3.6 8 8s-3.6 8-8 8",fill:"#efffd9"}),o.a.createElement("path",{d:"M42.5 37.5c-3.3 0-6-2.7-6-6s2.7-6 6-6s6 2.7 6 6s-2.7 6-6 6",fill:"#545b61"}),o.a.createElement("circle",{cx:"42.5",cy:"31.5",r:"2.3",fill:"#ff5263"}),o.a.createElement("path",{d:"M19.8 54.1c-7.4 0-7.4-13 0-13h24.5c7.4 0 7.4 13 0 13H19.8",fill:"#efffd9"}),o.a.createElement("path",{d:"M20.5 52.6c-6 0-6-10 0-10h23c6 0 6 10 0 10h-23",fill:"#89967a"}),o.a.createElement("g",{opacity:".7",fill:"#3e4347"},o.a.createElement("path",{d:"M21.2 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1"}),o.a.createElement("path",{d:"M25.9 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1"}),o.a.createElement("path",{d:"M30.6 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1"}),o.a.createElement("path",{d:"M35.4 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1"}),o.a.createElement("path",{d:"M40.1 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1"}),o.a.createElement("path",{d:"M44.8 50.7c0 1.2-2 1.2-2 0v-6.1c0-1.2 2-1.2 2 0v6.1"})),o.a.createElement("circle",{cx:"32",cy:"37",r:"2",fill:"#f5f5f5"}),o.a.createElement("path",{fill:"#545b61",d:"M30.316 35.862l.566-.565l2.828 2.828l-.565.566z"}),o.a.createElement("rect",{x:"0",y:"0",width:"64",height:"64",fill:"rgba(0, 0, 0, 0)"}))},A=a(29),H=a.n(A);var I=function(e,t){var a=e-.5+Math.random()*(t-e+1);return Math.round(a)},W=["https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/raised-fist_270a.png","https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/victory-hand_270c.png","https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/raised-hand_270b.png"],B=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"jopa",value:function(e){var t=this;this.props.state.round||(H()(".left_hand,.right_hand").removeClass("animated"),setTimeout((function(){H()(".left_hand,.right_hand").addClass("animated")}),5),this.props.return([0,0,this.props.state.userScore,this.props.state.botScore,!0,this.props.state.activeModal,this.props.state.stats]),setTimeout((function(){var a,n=t.props.state.botScore,s=t.props.state.userScore,c=I(0,2),l=e;switch(l){case 0:switch(c){case 1:s++;break;case 2:n++}break;case 1:switch(c){case 2:s++;break;case 0:n++}break;case 2:switch(c){case 0:s++;break;case 1:n++}}a=s>=2||n>=2,t.props.return([c,l,s,n,a,t.props.state.activeModal,t.props.state.stats]),H()(".test").addClass("hidden"),setTimeout((function(){H()(".test2").removeClass("hidden")}),200),setTimeout((function(){if(H()(".test2").addClass("hidden"),H()(".test").removeClass("hidden"),t.props.state.userScore>=2||t.props.state.botScore>=2){var e,a=t.props.state.stats.wins,n=t.props.state.stats.loses;t.props.state.userScore>=2?(e="userWon",a++):(e="botWon",n++),t.props.return([t.props.state.leftHand,t.props.state.rightHand,0,0,t.props.state.round,e,{wins:a,loses:n}]),v.firestore().collection("users").doc(t.props.state.userId.toString()).update({wins:a,loses:n}).then((function(e){return console.log("done")}))}t.props.return([0,0,t.props.state.userScore,t.props.state.botScore,t.props.state.round,t.props.state.activeModal,t.props.state.stats])}),2e3)}),1710))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(u.n,{left:o.a.createElement(u.o,{onClick:function(){return e.props.menu()}})},"\u041f\u0440\u043e\u0442\u0438\u0432 \u0431\u043e\u0442\u0430"),o.a.createElement(u.h,null,o.a.createElement(u.d,{className:"battle_avas",style:{borderRadius:5,padding:10}},o.a.createElement(u.c,{size:"l"},o.a.createElement(u.c,{style:{paddingTop:15},className:"text-middle",size:"s"},o.a.createElement("div",{className:"test"},o.a.createElement(O,{size:48}),o.a.createElement(u.i,{className:"no-flex",mode:"secondary"},"\u043f\u043e\u043b\u043d\u044b\u0439 \u043b\u043e\u0445")),o.a.createElement("div",{className:"test2 hidden"},this.props.state.botScore)),o.a.createElement(u.c,{style:{marginTop:42},className:"text-middle",size:"s"},o.a.createElement(u.i,{className:"no-flex",mode:"secondary"},"\u043f\u0440\u043e\u0442\u0438\u0432")),o.a.createElement(u.c,{style:{paddingTop:15},className:"text-middle",size:"s"},o.a.createElement("div",{className:"test"},o.a.createElement(u.a,{src:this.props.state.userAva?this.props.state.userAva:"https://vk.com/images/camera_200.png"}),o.a.createElement(u.i,{className:"no-flex",mode:"secondary"},this.props.state.userName?this.props.state.userName:"\u0442\u043e\u0436\u0435 \u043b\u043e\u0445")),o.a.createElement("div",{className:"test2 hidden"},this.props.state.userScore))),o.a.createElement("div",{className:"clear-fix"}))),o.a.createElement(u.h,{style:{padding:30}},o.a.createElement("img",{className:"left left_hand",alt:"hui jopa pidaraz",src:W[this.props.state.leftHand]}),o.a.createElement("img",{className:"right right_hand",alt:"hui jopa pidaraz",src:W[this.props.state.rightHand]}),o.a.createElement("div",{className:"clear-fix"})),o.a.createElement(u.g,{style:this.props.state.round?{transition:".2s",transform:"translateY(100%)"}:{transition:".2s"},vertical:"bottom"},o.a.createElement(u.d,{className:"battle_avas",style:{borderRadius:5,padding:10}},o.a.createElement(u.c,{size:"l"},o.a.createElement(u.c,{className:"text-middle",size:"s"},o.a.createElement("img",{onClick:function(){e.jopa(0)},className:"selectHand",alt:"jopa",src:W[0]})),o.a.createElement(u.c,{className:"text-middle",size:"s"},o.a.createElement("img",{onClick:function(){e.jopa(1)},className:"selectHand",alt:"jopa",src:W[1]})),o.a.createElement(u.c,{className:"text-middle",size:"s"},o.a.createElement("img",{onClick:function(){e.jopa(2)},className:"selectHand",alt:"jopa",src:W[2]}))),o.a.createElement("div",{className:"clear-fix"}))))}}]),a}(o.a.Component),P=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",width:e.size,height:e.size,viewBox:"0 0 64 64"},o.a.createElement("path",{d:"M62 27.2c0-3-1.5-5.6-3.9-7.1c.3-.9.5-1.9.5-2.9c0-4.7-3.7-8.6-8.3-8.7C49 6 46.4 4.2 43.4 4.2c-1.5 0-2.9.4-4.1 1.2C37.8 3.4 35.1 2 32 2c-3.1 0-5.8 1.4-7.4 3.4c-1.2-.8-2.6-1.2-4.1-1.2c-3 0-5.6 1.7-6.9 4.3c-4.6.1-8.3 3.9-8.3 8.7c0 1 .2 2 .5 2.9C3.5 21.6 2 24.2 2 27.2c0 2 .7 3.9 1.9 5.4c-.5 1-.8 2.1-.8 3.3c0 2.7 1.5 5.1 3.7 6.3c0 .3-.1.5-.1.8c0 3.9 3.1 7.1 6.9 7.1h36.7c3.8 0 6.9-3.2 6.9-7.1v-.8c2.2-1.2 3.7-3.6 3.7-6.3c0-1.2-.3-2.3-.8-3.3c1.2-1.5 1.9-3.3 1.9-5.4",fill:"#42ade2"}),o.a.createElement("path",{d:"M51.8 35c-.1.9-.3 1.8-.6 2.3c-.5.9-1.4 1.4-1.4 1.4s.3-.9.2-3.4c-1.3-19.9-3.7-11-17.9-11s-16.6-8.9-17.9 11c-.1 2.5.2 3.4.2 3.4s-.9-.5-1.4-1.4c-.3-.5-.4-1.3-.6-2.3c-1.5-.4-3.5-.1-3.5 4.3c0 2.7 1 5 4.4 5.2c1.4 11 5.7 12.8 14.3 16.7c2.3 1 6.9 1 9.1 0c8.6-3.9 12.9-5.7 14.3-16.7c3.4-.2 4.4-2.5 4.4-5.2c-.2-4.4-2.1-4.7-3.6-4.3",fill:"#fed0ac"}),o.a.createElement("path",{d:"M49.1 35.5c-1.3-19.2-3.5-9.9-17.1-9.9s-15.8-9.3-17.1 9.9c-.1 2.4.4 6.7.7 8.9c.8 5.2 3.9 12.2 12 16c2.2 1 6.6 1 8.7 0c8.2-3.7 11.3-10.8 12-16c.4-2.3.9-6.6.8-8.9",fill:"#f5f5f5"}),o.a.createElement("path",{d:"M41.2 49.3c-3.8 3.9-3.3 8.8-9.2 8.8c-5.9 0-5.4-4.9-9.2-8.8c-3.7-3.9 5.1.5 9.2.5s12.9-4.4 9.2-.5",fill:"#574137"}),o.a.createElement("path",{d:"M38.9 48.2L32 49.8l-6.9-1.6s-.2 1.6.5 2.3c1 1 4.8 1.5 6.5 1.5c1.7 0 5.4-.5 6.5-1.5c.5-.6.3-2.3.3-2.3",fill:"#fff"}),o.a.createElement("path",{d:"M32 55.1c-2.8 0-3.7 2-3.7 2l3.7.6l3.7-.6s-.9-2-3.7-2",fill:"#ff717f"}),o.a.createElement("path",{d:"M32 49c-2.3 0-15.8-5-9.9.6c3.2 3 3.2 10 9.9 10s6.7-6.9 9.9-10c5.9-5.6-7.6-.6-9.9-.6m7.9 1.1c-3.3 3.3-2.8 7.3-7.9 7.4c-5.1 0-4.6-4.1-7.9-7.4c-3.2-3.2 4.4.4 7.9.4s11.1-3.7 7.9-.4",fill:"#cf4350"}),o.a.createElement("circle",{cx:"32",cy:"43.4",r:"6.6",fill:"#ff5263"}),o.a.createElement("path",{d:"M27 35.8c0 2.9-8 2.9-8 0c0-9.9 8-9.9 8 0",fill:"#f5f5f5"}),o.a.createElement("path",{d:"M27.7 36.2c0 3.7-10 3.7-10 0c0-12.3 10-12.3 10 0",fill:"#3e4347"}),o.a.createElement("path",{d:"M27.4 36.3c0 2.9-8 2.9-8 0c0-9.9 8-9.9 8 0",fill:"#f5f5f5"}),o.a.createElement("ellipse",{cx:"23.7",cy:"34.5",rx:"2.5",ry:"3.5",fill:"#0a84a5"}),o.a.createElement("circle",{cx:"23.7",cy:"34.5",r:".8",fill:"#231f20"}),o.a.createElement("path",{d:"M36.3 36.2c0 3.7 10 3.7 10 0c0-12.3-10-12.3-10 0",fill:"#3e4347"}),o.a.createElement("path",{d:"M36.6 36.3c0 2.9 8 2.9 8 0c0-9.9-8-9.9-8 0",fill:"#f5f5f5"}),o.a.createElement("ellipse",{cx:"40.3",cy:"34.5",rx:"2.5",ry:"3.5",fill:"#0a84a5"}),o.a.createElement("circle",{cx:"40.3",cy:"34.5",r:".8",fill:"#231f20"}),o.a.createElement("rect",{x:"0",y:"0",width:"64",height:"64",fill:"rgba(0, 0, 0, 0)"}))},T=function(e){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",width:e.size,height:e.size,viewBox:"0 0 64 64"},o.a.createElement("path",{d:"M2.5 37.2c2.9 16.3 18.4 27.2 34.8 24.3c16.3-2.9 27.2-18.4 24.3-34.8C58.7 10.5 43.1-.4 26.8 2.5C10.5 5.3-.4 20.9 2.5 37.2",fill:"#ffdd67"}),o.a.createElement("g",{fill:"#664e27"},o.a.createElement("circle",{cx:"42.4",cy:"24.7",r:"5"}),o.a.createElement("circle",{cx:"19.7",cy:"28.7",r:"5"}),o.a.createElement("path",{d:"M43.3 41.8c-5.8-1.5-12-.4-16.9 3c-1.2.9 1.1 4 2.3 3.2c3.2-2.3 8.4-3.8 13.7-2.4c1.3.3 2.4-3.3.9-3.8"})),o.a.createElement("rect",{x:"0",y:"0",width:"64",height:"64",fill:"rgba(0, 0, 0, 0)"}))},V=function(e){return o.a.createElement(u.l,{activeModal:e.state.activeModal,onClose:function(){return e.setActiveModal(null)}},o.a.createElement(u.k,{id:"userWon",onClose:function(){return e.setActiveModal(null)},icon:o.a.createElement(P,{size:128}),header:"\u041f\u043e\u0431\u0435\u0434\u0430",caption:"\u041c\u043e\u0436\u0435\u043c \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"}),o.a.createElement(u.k,{id:"botWon",onClose:function(){return e.setActiveModal(null)},icon:o.a.createElement(T,{size:128}),header:"\u041f\u0440\u043e\u0438\u0433\u0440\u0430\u043b",caption:"\u043b\u043e\u0445"}))},K=a(34),L=a.n(K),R=["https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/raised-fist_270a.png","https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/victory-hand_270c.png","https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/raised-hand_270b.png"],D=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={friendAva:0,friendName:0,room:{empty:!0}},s}return Object(s.a)(a,[{key:"jopa",value:function(e){}},{key:"removeInvite",value:function(e){var t=this,a=e.room.friend;v.firestore().collection("users").doc(a.toString()).get().then((function(e){var n=e.data().invites;n.splice(n.indexOf(a),1),v.firestore().collection("users").doc(a.toString()).update({invites:n}).then((function(e){t.setState({room:{empty:!0}})}))}))}},{key:"invite",value:function(e){var t=this;h.a.send("VKWebAppGetFriends",{}).then((function(a){console.log(a);var n={confirmed:0,friend:a.users[0].id,user:e.userId,userHand:0,friendHand:0,userScore:0,friendScore:0,empty:!1};v.firestore().collection("rooms").doc(e.userId.toString()).set(n).then((function(s){v.firestore().collection("users").doc(a.users[0].id.toString()).get().then((function(s){if(s.exists){var c=s.data().invites;-1===c.indexOf(e.userId)?(c[c.length]=e.userId,v.firestore().collection("users").doc(a.users[0].id.toString()).update({invites:c}).then((function(e){t.setState({room:n})}))):t.props.setSnackbar(["\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u0443\u0436\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e",o.a.createElement(L.a,{fill:"var(--destructive)"})])}else t.props.setSnackbar(["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d",o.a.createElement(L.a,{fill:"var(--destructive)"})])}))}))}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(u.n,{left:o.a.createElement(u.o,{onClick:function(){return e.props.menu()}})},"\u041f\u0440\u043e\u0442\u0438\u0432 \u0434\u0440\u0443\u0433\u0430"),o.a.createElement(u.h,null,o.a.createElement(u.d,null,o.a.createElement(u.c,{size:"l"},this.state.room.empty?o.a.createElement(u.b,{size:"xl",onClick:function(){e.invite(e.props.state)}},"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0434\u0440\u0443\u0433\u0430"):o.a.createElement(u.b,{before:o.a.createElement(u.s,{size:"small"}),onClick:function(){e.removeInvite(e.state)},mode:"secondary",size:"xl"},"\u041e\u0436\u0438\u0434\u0430\u0435\u043c \u043e\u0442\u0432\u0435\u0442\u0430")))),o.a.createElement(u.h,{style:{padding:30}},o.a.createElement("img",{className:"left left_hand",alt:"hui jopa pidaraz",src:R[this.props.state.leftHand]}),o.a.createElement("img",{className:"right right_hand",alt:"hui jopa pidaraz",src:R[this.props.state.rightHand]}),o.a.createElement("div",{className:"clear-fix"})),o.a.createElement(u.g,{style:this.props.state.round?{transition:".2s",transform:"translateY(100%)"}:{transition:".2s"},vertical:"bottom"},o.a.createElement(u.d,{className:"battle_avas",style:{borderRadius:5,padding:10}},o.a.createElement(u.c,{size:"l"},o.a.createElement(u.c,{className:"text-middle",size:"s"},o.a.createElement("img",{onClick:function(){e.jopa(0)},className:"selectHand",alt:"jopa",src:R[0]})),o.a.createElement(u.c,{className:"text-middle",size:"s"},o.a.createElement("img",{onClick:function(){e.jopa(1)},className:"selectHand",alt:"jopa",src:R[1]})),o.a.createElement(u.c,{className:"text-middle",size:"s"},o.a.createElement("img",{onClick:function(){e.jopa(2)},className:"selectHand",alt:"jopa",src:R[2]}))),o.a.createElement("div",{className:"clear-fix"}))))}}]),a}(o.a.Component),G=(a(137),a(59)),q=a.n(G),J=function(e){return e.p.length?e.p.map((function(t){return o.a.createElement(u.e,{before:o.a.createElement(u.a,{src:t.photo_100,size:72}),size:"l",description:"\u043a\u0430\u043c\u0435\u043d\u044c, \u043d\u043e\u0436\u043d\u0438\u0446\u044b, \u0431\u0443\u043c\u0430\u0433\u0430",bottomContent:o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(u.b,{size:"m"},"\u041f\u0440\u0438\u043d\u044f\u0442\u044c",console.log(t)),o.a.createElement(u.b,{onClick:function(){e.remove(t)},size:"m",mode:"secondary",style:{marginLeft:8}},"\u0421\u043a\u0440\u044b\u0442\u044c",console.log(e)))},t.first_name+" "+t.last_name)})):o.a.createElement(u.p,{icon:o.a.createElement(q.a,{width:128,height:128}),header:"\u041d\u043e\u0432\u044b\u0445 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439 \u043d\u0435\u0442"},"\u041f\u043e\u043f\u0440\u043e\u0441\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u043c \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435, ",o.a.createElement("br",null),"\u0438 \u043e\u043d\u043e \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0437\u0434\u0435\u0441\u044c")},F=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={invites:[],fetching:!1},s.nniga=s.nniga.bind(Object(c.a)(s)),s.removeItem=s.removeItem.bind(Object(c.a)(s)),s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.nniga()}},{key:"removeItem",value:function(e){var t=this;console.log(this.state.invites),console.log(this.state.invites.indexOf(e));var a=this.state.invites;console.log(a),console.log(e);var n=this.state.invites.splice(this.state.invites.indexOf(e),1);console.log(n);for(var s=[],c=0;c<n.length;c++)s[c]=n[c].id;s.splice(this.state.invites.indexOf(e),1),console.log(s),v.firestore().collection("users").doc(this.props.state.userId.toString()).update({invites:s}).then((function(e){return t.nniga()}))}},{key:"nniga",value:function(){var e=this;this.setState({fetching:!0}),this.props.state.invites.length&&h.a.send("VKWebAppGetAuthToken",{app_id:7390057,scope:"friends"}).then((function(t){h.a.send("VKWebAppCallAPIMethod",{method:"users.get",request_id:"32test",params:{user_ids:e.props.state.invites.join(","),v:"5.103",access_token:t.access_token,fields:"photo_100"}}).then((function(t){e.setState({invites:t.response,fetching:!1}),console.log(e.state.invites)}))}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(u.n,{left:o.a.createElement(u.o,{onClick:function(){return e.props.menu()}})},"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f"),o.a.createElement(u.h,null,o.a.createElement(u.j,null,o.a.createElement(u.q,{style:{minHeight:"90vh"},onRefresh:this.nniga,isFetching:this.state.fetching},o.a.createElement(J,{remove:this.removeItem,p:this.state.invites})))))}}]),a}(o.a.Component),U=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).setActiveModal=function(e){s.setState({activeModal:e,round:!1})},s.state={activePanel:"menu",leftHand:0,rightHand:0,userScore:0,botScore:0,activeModal:null,round:!1,stats:{wins:0,loses:0},friendMatch:0,invites:[],snackbar:null},s.stateWithBot=s.stateWithBot.bind(Object(c.a)(s)),s.menu=s.menu.bind(Object(c.a)(s)),s.setActivePanel=s.setActivePanel.bind(Object(c.a)(s)),s.setSnackbar=s.setSnackbar.bind(Object(c.a)(s)),s}return Object(s.a)(a,[{key:"menu",value:function(){this.setState({activePanel:"menu"})}},{key:"setSnackbar",value:function(e){var t=this;this.setState({snackbar:o.a.createElement(u.r,{layout:"vertical",onClose:function(){return t.setState({snackbar:null})},before:e[1]},e[0])}),setTimeout((function(){t.setState({snackbar:null})}),3e3)}},{key:"componentDidMount",value:function(){var e=this;h.a.send("VKWebAppInit",{}).then((function(t){h.a.send("VKWebAppGetUserInfo",{}).then((function(t){console.log(t),e.setState({userAva:t.photo_200,userName:t.first_name,userId:t.id}),console.log(e.state),v.firestore().collection("users").doc(t.id.toString()).onSnapshot((function(a){a.exists||v.firestore().collection("users").doc(t.id.toString()).set({balance:0,wins:0,loses:0}).then((function(e){return console.log("done")}));var n=a.data();e.setState({stats:{wins:n.wins,loses:n.loses},invites:n.invites})}))}))})),window.addEventListener("popstate",(function(){"menu"!==e.state.activePanel?e.setState({activePanel:"menu"}):window.history.back()}))}},{key:"setActivePanel",value:function(e){this.setState({activePanel:e})}},{key:"stateWithBot",value:function(e){this.setState({leftHand:e[0],rightHand:e[1],userScore:e[2],botScore:e[3],round:e[4],activeModal:e[5],stats:e[6]})}},{key:"render",value:function(){return o.a.createElement(u.t,{activePanel:this.state.activePanel,id:"menu",modal:o.a.createElement(V,{state:this.state,setActiveModal:this.setActiveModal})},o.a.createElement(u.m,{id:"menu"},o.a.createElement(_,{state:this.state,panel:this.setActivePanel}),this.state.snackbar),o.a.createElement(u.m,{id:"stats"},o.a.createElement(w,{state:this.state,menu:this.menu}),this.state.snackbar),o.a.createElement(u.m,{id:"with_bot"},o.a.createElement(B,{state:this.state,menu:this.menu,return:this.stateWithBot}),this.state.snackbar),o.a.createElement(u.m,{id:"with_friend"},o.a.createElement(D,{setSnackbar:this.setSnackbar,state:this.state,menu:this.menu,return:this.stateWithBot}),this.state.snackbar),o.a.createElement(u.m,{id:"invites"},o.a.createElement(F,{state:this.state,menu:this.menu}),this.state.snackbar))}}]),a}(o.a.Component);d.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[109,1,2]]]);
//# sourceMappingURL=main.5013f8d5.chunk.js.map